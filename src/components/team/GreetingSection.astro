---
import { getImage, Image } from 'astro:assets'
import Section from '@components/team/Section.astro'

const {fullName, jobTitle, code} = Astro.props;

// Headshots
const headshots = import.meta.glob<{ default: ImageMetadata }>('/src/assets/team/headshots/*.{jpeg,jpg,png,gif}');
function getHeadshot(path) {
    if (!headshots[path]) {
        throw new Error(`"${path}" does not exist in glob: "/src/assets/team/headshots/*.{jpeg,jpg,png,gif}"`);
    }
    return headshots[path]();
}
const headshot = getHeadshot(`/src/assets/team/headshots/${code}.png`);
---
<Section className='pl-10 pr-0 py-10 grid grid-cols-2 gap-4'>
  <div class='py-20'>
    <h1 class="text-5xl font-bold">Hello<span class="text-orange-400">.</span></h1>
    <h1 class="justify-end text-3xl font-bold"><span class="text-orange-400">â€”</span> I am {fullName}</h1>
    <h2 class="justify-end text-3xl font-medium">{jobTitle}</h2>

    <slot/>
  </div>
  <div class="my-auto ml-auto">
    { /* TODO: Make a component, or just bake into the images ðŸ˜… */ }
    <div class="relative w-[30rem] h-[30rem]">
      { /* Tall */ }
      <div class="absolute bottom-0 right-0 bg-amber-300 rounded-full w-1/2 h-full"></div>
      { /* Stout */ }
      <div class="absolute bottom-0 right-1/3 bg-orange-200 rounded-full w-1/2 h-[70%]"></div>
      { /* Lazy */ }
      <div class="absolute bottom-0 left-0 bg-orange-400 rounded-full w-2/3 h-1/4"></div>
      <Image class="absolute bottom-0 w-[90%] h-[90%]"
        src={headshot} alt="" />
    </div>
  </div>
</Section>
