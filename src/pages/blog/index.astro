---
import Layout from '../../layouts/Layout.astro'

export const metadata = { navbar: { weight: 3 } }

type BlogProps = {
  title: string
  description: string
  publishDate: string
  author: string
  slug: string
  href: string
}

const pages = await Astro.glob<BlogProps>('./*.md')

const blogs = pages.map((page) => {
  return { ...page.frontmatter, href: page.url }
})
---

<Layout navbar={true}>
  <main class='dark:bg-gray-900 pb-80'>
    <section class='pt-6 flex justify-center gap-4'>
      {blogs.map((blog) => {
        return (
          <div class='flex flex-col gap-2 p-2 bg-slate-400 w-fit'>
            <a href={blog.href}>
              <h1 class='text-lg font-bold'>{blog.title}</h1>
              <p>{blog.description}</p>
              <p>{blog.publishDate}</p>
              <p>{blog.author}</p>
            </a>
          </div>
        )
      })}
    </section>
  </main>
</Layout>
